var h,m=function(){function a(a,b){e[a]=d[a]=c[a]=b}function b(a,b){e[a]=c[a]=b}var c={comment:Prism.languages.markup.comment},d={},e={},g={markup:["markup","html","xml"],javascript:["javascript","js"]},f;for(f in Prism.languages)if(Prism.languages.hasOwnProperty(f)){var k=Prism.languages[f];if("function"!==typeof k){var l=g[f];b("code-block fenced "+f,{pattern:new RegExp("(^ {0,3}|\\n {0,3})(([`~])\\3\\3) *("+(l?l.join("|"):f)+")( [^`\n]*)? *\\n(?:[\\s\\S]*?)\\n {0,3}(\\2\\3*(?= *\\n)|$)","gi"),
lookbehind:!0,inside:{"code-language":{pattern:/(^([`~])\2+)((?!\2)[^\2\n])+/,lookbehind:!0},"marker code-fence start":/^([`~])\1+/,"marker code-fence end":/([`~])\1+$/,"code-inner":{pattern:/(^\n)[\s\S]*(?=\n$)/,lookbehind:!0,alias:"language-"+f,inside:k}}})}}b("code-block fenced untagged",{pattern:/(^ {0,3}|\n {0,3})(([`~])\3\3)[^`\n]*\n(?:[\s\S]*?)\n {0,3}(\2\3*(?= *\n)|$)/g,lookbehind:!0,inside:{"code-language":{pattern:/(^([`~])\2+)((?!\2)[^\2\n])+/,lookbehind:!0},"marker code-fence start":/^([`~])\1+/,
"marker code-fence end":/([`~])\1+$/,"code-inner":{pattern:/(^\n)[\s\S]*(?=\n$)/,lookbehind:!0}}});b("heading setext-heading heading-1",{pattern:/^ {0,3}[^\s].*\n {0,3}=+[ \t]*$/gm,inside:{"marker heading-setext-line":{pattern:/^( {0,3}[^\s].*\n) {0,3}=+[ \t]*$/gm,lookbehind:!0},rest:d}});b("heading setext-heading heading-2",{pattern:/^ {0,3}[^\s].*\n {0,3}-+[ \t]*$/gm,inside:{"marker heading-setext-line":{pattern:/^( {0,3}[^\s].*\n) {0,3}-+[ \t]*$/gm,lookbehind:!0},rest:d}});g={"marker heading-hash start":/^ *#+ */,
"marker heading-hash end":/ +#+ *$/,rest:d};for(f=1;6>=f;f+=1)b("heading heading-"+f,{pattern:new RegExp("^ {0,3}#{"+f+"}(?!#).*$","gm"),inside:g});f={pattern:/^\[(?:\\.|[^\[\]]|\[[^\[\]]*\])*\]/,inside:{"marker bracket start":/^\[/,"marker bracket end":/\]$/,"link-text-inner":{pattern:/[\w\W]+/,inside:d}}};var g={pattern:/\[(?:\\.|[^\]])*\]/,inside:{"marker bracket start":/^\[/,"marker bracket end":/\]$/,"link-label-inner":/[\w\W]+/}},k={pattern:/^!\[(?:\\.|[^\[\]]|\[[^\[\]]*\])*\]/,inside:{"marker image-bang":/^!/,
"marker bracket start":/^\[/,"marker bracket end":/\]$/,"image-text-inner":{pattern:/[\w\W]+/,inside:d}}},l={pattern:/^(\s*)(?!<)(?:\\.|[^\(\)\s]|\([^\(\)\s]*\))+/,lookbehind:!0},u={pattern:/^(\s*)<(?:\\.|[^<>\n])*>/,lookbehind:!0,inside:{"marker brace start":/^</,"marker brace end":/>$/,"braced-href-inner":/[\w\W]+/}},v={pattern:/('(?:\\'|[^'])+'|"(?:\\"|[^"])+")\s*$/,inside:{"marker quote start":/^['"]/,"marker quote end":/['"]$/,"title-inner":/[\w\W]+/}},w={pattern:/\( *(?:(?!<)(?:\\.|[^\(\)\s]|\([^\(\)\s]*\))*|<(?:[^<>\n]|\\.)*>)( +('(?:[^']|\\')+'|"(?:[^"]|\\")+"))? *\)/,
inside:{"marker bracket start":/^\(/,"marker bracket end":/\)$/,"link-params-inner":{pattern:/[\w\W]+/,inside:{"link-title":v,href:l,"braced-href":u}}}};b("hr",{pattern:/^[\t ]*([*\-_])([\t ]*\1){2,}([\t ]*$)/gm,inside:{"marker hr-marker":/[*\-_]/g}});b("urldef",{pattern:/^( {0,3})\[(?:\\.|[^\]])+]: *\n? *(?:(?!<)(?:\\.|[^\(\)\s]|\([^\(\)\s]*\))*|<(?:[^<>\n]|\\.)*>)( *\n? *('(?:\\'|[^'])+'|"(?:\\"|[^"])+"))?$/gm,lookbehind:!0,inside:{"link-label":g,"marker urldef-colon":/^:/,"link-title":v,href:l,
"braced-href":u}});b("blockquote",{pattern:/^[\t ]*>[\t ]?.+(?:\n(?!\n)|.)*/gm,inside:{"marker quote-marker":/^[\t ]*>[\t ]?/gm,"blockquote-content":{pattern:/[^>]+/,rest:e}}});b("list",{pattern:/^[\t ]*([*+\-]|\d+\.)[\t ].+(?:\n(?!\n)|.)*/gm,inside:{li:{pattern:/^[\t ]*([*+\-]|\d+\.)[\t ].+(?:\n|[ \t]+[^*+\- \t].*\n)*/gm,inside:{"marker list-item":/^[ \t]*([*+\-]|\d+\.)[ \t]/m,rest:e}}}});b("code-block indented",{pattern:/(^|(?:^|(?:^|\n)(?![ \t]*([*+\-]|\d+\.)[ \t]).*\n)\s*?\n)((?: {4}|\t).*(?:\n|$))+/g,
lookbehind:!0});b("p",{pattern:/[^\n](?:\n(?!\n)|.)*[^\n]/g,inside:d});a("image",{pattern:/(^|[^\\])!\[(?:\\.|[^\[\]]|\[[^\[\]]*\])*\]\(\s*(?:(?!<)(?:\\.|[^\(\)\s]|\([^\(\)\s]*\))*|<(?:[^<>\n]|\\.)*>)(\s+('(?:[^']|\\')+'|"(?:[^"]|\\")+"))?\s*\)/,lookbehind:!0,inside:{"link-text":k,"link-params":w}});a("link",{pattern:/(^|[^\\])\[(?:\\.|[^\[\]]|\[[^\[\]]*\])*\]\(\s*(?:(?!<)(?:\\.|[^\(\)\s]|\([^\(\)\s]*\))*|<(?:[^<>\n]|\\.)*>)(\s+('(?:[^']|\\')+'|"(?:[^"]|\\")+"))?\s*\)/,lookbehind:!0,inside:{"link-text":f,
"link-params":w}});a("image image-ref",{pattern:/(^|[^\\])!\[(?:\\.|[^\[\]]|\[[^\[\]]*\])*\] ?\[(?:\\.|[^\]])*\]/,lookbehind:!0,inside:{"link-text":k,"link-label":g}});a("link link-ref",{pattern:/(^|[^\\])\[(?:\\.|[^\[\]]|\[[^\[\]]*\])*\] ?\[(?:\\.|[^\]])*\]/,lookbehind:!0,inside:{"link-text":f,"link-label":g}});a("image image-ref shortcut-ref",{pattern:/(^|[^\\])!\[(?:\\.|[^\[\]]|\[[^\[\]]*\])*\]/,lookbehind:!0,inside:{"marker image-bang":/^!/,"link-text":f}});a("link link-ref shortcut-ref",{pattern:/(^|[^\\])\[(?:\\.|[^\[\]]|\[[^\[\]]*\])*\]/,
lookbehind:!0,inside:{"link-text":f}});a("code",{pattern:/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/g,lookbehind:!0,inside:{"marker code-marker start":/^`/,"marker code-marker end":/`$/,"code-inner":/[\w\W]+/}});a("strong",{pattern:/(^|[^\\*_]|\\[*_])([_\*])\2(?:\n(?!\n)|.)+?\2{2}(?!\2)/g,lookbehind:!0,inside:{"marker strong-marker start":/^(\*\*|__)/,"marker strong-marker end":/(\*\*|__)$/,"strong-inner":{pattern:/[\w\W]+/,inside:d}}});a("em",{pattern:/(^|[^\\*_]|\\[*_])(\*|_)(?:\n(?!\n)|.)+?\2(?!\2)/g,
lookbehind:!0,inside:{"marker em-marker start":/^(\*|_)/,"marker em-marker end":/(\*|_)$/,"em-inner":{pattern:/[\w\W]+/,inside:d}}});a("strike",{pattern:/(^|\n|(?!\\)\W)(~~)(?=\S)([^\r]*?\S)\2/gm,lookbehind:!0,inside:{"marker strike-marker start":/^~~/,"marker strike-marker end":/~~$/,"strike-inner":{pattern:/[\w\W]+/,inside:d}}});a("comment",Prism.languages.markup.comment);f=Prism.languages.markup.tag;a("tag",{pattern:new RegExp("(^|[^\\\\])"+f.pattern.source,"i"),lookbehind:!0,inside:f.inside});
a("entity",Prism.languages.markup.entity);return c}();function n(a,b,c,d){return a.slice(0,b)+(d||"")+a.slice(b+(+c||0))}
var p={w:function(a){var b=a.start,c=a.d.slice(a.d.lastIndexOf("\n")+1),d=c.match(/^\s*/)[0],e="";/^ {0,3}$/.test(d)&&(c=c.slice(d.length),/^[*+\-]\s+/.test(c)?e+=c.match(/^[*+\-]\s+/)[0]:/^\d+\.\s+/.test(c)?e+=c.match(/^\d+\.\s+/)[0].replace(/^\d+/,function(a){return+a+1}):/^>/.test(c)&&(e+=c.match(/^>\s*/)[0]));d+=e;a.d+="\n"+d;e=a.e;a.e="";a.start+=1+d.length;a.end=a.start;return{add:"\n"+d,b:e,start:b}},v:function(a,b){var c=a.d.lastIndexOf("\n")+1;if(b.inverse)/\s/.test(a.d.charAt(c))&&(a.d=
n(a.d,c,1),--a.start),a.e=a.e.replace(/\r?\n(?!\r?\n)\s/,"\n");else if(a.e||b.o)a.d=n(a.d,c,0,"\t"),a.e=a.e.replace(/\r?\n/,"\n\t"),a.start+=1;else return a.d+="\t",a.start+=1,a.end+=1,{add:"\t",b:"",start:a.start-1};a.end=a.start+a.e.length;return{action:"indent",start:a.start,end:a.end,inverse:b.inverse}}};function q(a){this.f=a}
function r(a){var b=getSelection();if(!b.rangeCount)return 0;var c=b.getRangeAt(0),d=b=c.startContainer,c=c.startOffset;if(!(a.f.compareDocumentPosition(b)&16))return 0;do{for(;b=b.previousSibling;)b.textContent&&(c+=b.textContent.length);b=d=d.parentNode}while(b&&b!==a.f);return c}function t(a){var b=getSelection();return b.rangeCount?r(a)+String(b.getRangeAt(0)).length:0}
function x(a,b,c,d){var e=document.createRange(),g=y(a.f,b),f=g;c&&c!==b&&(f=y(a.f,c));!1!==d&&z.call(a,f.element,f.offset);e.setStart(g.element,g.offset);e.setEnd(f.element,f.offset);a=getSelection();a.removeAllRanges();a.addRange(e)}var A=document.createElement("span");A.style.position="absolute";A.innerHTML="|";
function z(a,b){var c=a.textContent,d=a.parentNode,e=c.slice(0,b);a.textContent=c.slice(b);e=document.createTextNode(e);d.insertBefore(A,a);d.insertBefore(e,A);var g=A.offsetTop,f=A.offsetHeight,k=this.f.offsetHeight,l=this.f.scrollTop;a.textContent=c;d.removeChild(A);d.removeChild(e);0>g-l?this.f.scrollTop=g:g-l+f>k&&(this.f.scrollTop=g+f-k)}
function y(a,b){if(!a)return null;var c=0,d=a;do{var e=d;if(d=d.firstChild){do{var g=d.textContent.length;if(c<=b&&c+g>b)break;c+=g}while(d=d.nextSibling)}if(!d)break}while(d&&d.hasChildNodes()&&3!=d.nodeType);if(d)return{element:d,offset:b-c};if(e){for(d=e;d&&d.lastChild;)d=d.lastChild;return 3===d.nodeType?{element:d,offset:d.textContent.length}:{element:d,offset:0}}return{element:a,offset:0,error:!0}}function B(a){this.l=a;this.h=[];this.k=[]}
B.prototype.action=function(a){var b;if(b=this.h.length)b=this.h[this.h.length-1],b=!b.action&&!a.action&&!Array.isArray(b)&&!Array.isArray(a)&&!(b.b&&a.add)&&!(b.add&&a.b)&&!(b.add&&!a.add)&&!(!b.add&&a.add)&&!(b.add&&b.b)&&!(a.add&&a.b)&&b.start+b.add.length===a.start+a.b.length;b?this.h.push(C(this.h.pop(),a)):this.h.push(a);this.k=[]};function C(a,b){return{add:a.add+b.add,b:b.b+a.b,start:Math.min(a.start,b.start)}}
B.prototype.apply=function D(b){Array.isArray(b)?b.forEach(D.bind(this)):b.action?this.l.action(b.action,{inverse:b.inverse,start:b.start,end:b.end,t:!0}):this.l.apply(b)};
function E(a,b){b=b||{};"PRE"===a.tagName?this.c=a:(this.c=document.createElement("pre"),a.appendChild(this.c));var c=b.className||"";this.c.className="mdedit"+(c?" "+c:"");this.a=new q(a);this.g=new B(this);a.addEventListener("cut",this.p.bind(this),!1);a.addEventListener("paste",this.u.bind(this),!1);a.addEventListener("keyup",this.s.bind(this),!1);a.addEventListener("input",this.i.bind(this),!1);a.addEventListener("keydown",this.q.bind(this),!1);a.addEventListener("keypress",this.r.bind(this),
!1);this.n=b.change||function(){};this.i()}h=E.prototype;h.s=function(a){a=a&&a.keyCode||0;-1<[9,91,93,16,17,18,20,13,112,113,114,115,116,117,118,119,120,121,122,123,27].indexOf(a)||-1===[37,39,38,40].indexOf(a)&&this.i()};h.i=function(){var a=this.c.textContent,b=r(this.a),c=t(this.a);F(this);this.c.innerHTML=Prism.highlight(a,m);this.c.scrollTop=this.j;this.j=void 0;null===b&&null===c||x(this.a,b,c);this.n(a)};
function F(a){void 0===a.j&&(a.j=a.c.scrollTop);setTimeout(function(){this.j=void 0}.bind(a),500)}h.r=function(a){if(!a.metaKey&&!a.ctrlKey&&(a=a.charCode)){var b=r(this.a),c=t(this.a);this.g.action({add:String.fromCharCode(a),b:b===c?"":this.c.textContent.slice(b,c),start:b})}};
h.q=function(a){var b=a.metaKey||a.ctrlKey;switch(a.keyCode){case 8:case 46:var b=r(this.a),c=t(this.a),d=b===c?1:Math.abs(c-b),b=8===a.keyCode?c-d:b;this.g.action({add:"",b:this.c.textContent.slice(b,b+d),start:b});break;case 9:b||(this.action("indent",{inverse:a.shiftKey}),a.preventDefault());break;case 219:case 221:b&&!a.shiftKey&&(this.action("indent",{inverse:219===a.keyCode,o:!0}),a.preventDefault());break;case 13:this.action("newline");a.preventDefault();break;case 89:b&&(b=this.g,b.k.length&&
(c=b.k.pop(),b.h.push(c),b.apply(c)),a.preventDefault());break;case 90:b&&(this.g[a.shiftKey?"redo":"undo"](),a.preventDefault())}};h.apply=function(a){var b=this.c;b.textContent=n(b.textContent,a.start,a.b.length,a.add);x(this.a,a.start,a.start+a.add.length);this.i()};
h.action=function(a,b){b=b||{};var c=this.c.textContent,d=b.start||r(this.a),e=b.end||t(this.a),c={start:d,end:e,d:c.slice(0,d),m:c.slice(e),e:c.slice(d,e)},d=p[a](c,b);F(this);this.c.textContent=c.d+c.e+c.m;d&&!b.t&&this.g.action(d);x(this.a,c.start,c.end,!1);this.i()};h.p=function(){var a=r(this.a),b=t(this.a);a!==b&&this.g.action({add:"",b:this.c.textContent.slice(a,b),start:a})};
h.u=function(a){var b=r(this.a),c=t(this.a),c=b===c?"":this.c.textContent.slice(b,c);a.clipboardData&&(a.preventDefault(),a=a.clipboardData.getData("text/plain"),document.execCommand("insertText",!1,a),this.g.action({add:a,b:c,start:b}),b+=a.length,x(this.a,b,b),this.i())};new E(document.getElementsByTagName("pre")[0]);
